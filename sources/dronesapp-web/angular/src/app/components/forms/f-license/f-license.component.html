<form class="f-default f-license"
      novalidate
      #licenceForm="ngForm"
      (submit)="saveChanges($event, licenceForm)">

  <div class="f-default__row f-license__row" [class._green]="accountService.license?.licenseURL" *ngIf="isNeedUpload">
    <div class="f-default__text _error">
      {{ accountService.license?.licenseURL ? 'Our team is processing your data, we will update you shortly.' : 'Please upload your license and/or certificate, to gain access to job board.' }}
    </div>
  </div>
  <div class="f-default__row f-license__row _flex">
    <span class="f-default__text">Pilot License (2MB max):{{isNeedUpload ? '*' : ''}} <span class="f-license__filename">{{ uploadedLicFileName }}</span></span>
    <label class="f-default__file">
      <input class="f-default__input"
             type="file"
             accept="image/jpeg,image/jpg,image/png"
             name="license"
             ng2FileSelect
             [uploader]="uploader"
             (change)="handlePhotoUpload('license')"
             [ngClass]="{'_error': submitted && isNeedUpload && !licFileName}">
      <span class="f-default__button f-license__button _center">Choose File</span>
      <span class="f-default__text" *ngIf="licFileName">Chosen file: <span class="f-license__filename">{{ licFileName }}</span></span>
      <span class="f-default__text" *ngIf="!licFileName">No file chosen</span>
      <span class="f-default__text _error" *ngIf="fileNameLengthLimitError === 'license'">Name of the file is too long</span>
      <span class="f-default__text _error" *ngIf="fileSizeLimitError === 'license'">Attachment size limit is exceeded</span>
    </label>
  </div>

  <div class="f-default__row f-license__row _flex">
    <span class="f-default__text">Insurance Certificate (2MB max):<span class="f-license__filename">{{ uploadedCertFileName }}</span></span>
    <label class="f-default__file">
      <input class="f-default__input"
             type="file"
             accept="image/jpeg,image/jpg,image/png"
             name="insurance"
             ng2FileSelect
             [uploader]="uploader"
             (change)="handlePhotoUpload('insurance')">
      <span class="f-default__button f-license__button _center">Choose File</span>
      <span class="f-default__text" *ngIf="certFileName">Chosen file: <span class="f-license__filename">{{ certFileName }}</span></span>
      <span class="f-default__text" *ngIf="!certFileName">No file chosen</span>
      <span class="f-default__text _error" *ngIf="fileNameLengthLimitError === 'insurance'">Name of the file is too long</span>
      <span class="f-default__text _error" *ngIf="fileSizeLimitError === 'insurance'">Attachment size limit is exceeded</span>
    </label>
  </div>

  <button class="f-default__button f-license__button _big">Submit for Review</button>
</form>
