<form class="f-email f-default"
      novalidate
      #emailForm="ngForm"
      (ngSubmit)="changeEmail($event, emailForm)">

  <div class="f-default__inner">
    <div class="f-default__col">
      <div class="f-default__row">
        <label class="f-default__label">
          <span class="f-default__text _req">Email:</span>
          <input class="f-default__field"
                 type="email"
                 required
                 [(ngModel)]="email"
                 name="email"
                 [email]="true"
                 #emailRef="ngModel"
                 [ngClass]="{'_error': submitted && (emailRef.errors?.required || emailRef.errors?.email)}"/>
          <span class="f-default__error" *ngIf="submitted && emailRef.errors?.required">This field is required</span>
        </label>
      </div>

      <div class="f-default__row">
        <label class="f-default__label">
          <span class="f-default__text _req">Enter Current Password:</span>
          <input class="f-default__field"
                 type="password"
                 name="password"
                 [(ngModel)]="password"
                 required
                 #passwordRef="ngModel"
                 [ngClass]="{'_error': submitted && passwordRef.errors?.required}"/>
          <span class="f-default__error" *ngIf="submitted && passwordRef.errors?.required">This field is required</span>
        </label>
      </div>
    </div>
  </div>

  <button class="f-default__button"
          [disabled]="submitted && !emailForm.form.valid">Change Email
  </button>
</form>
